//!wrt $BSPEC:{"icn":"apps/youare","cpr":"Copyright (C) Windows 96 Team 2023.","dsc":"You Are","frn":"You Are","ver":1,"ssy":"gui"}

const{WindowParams:WindowParams}=w96,{Theme:Theme}=w96.ui;class YouAreApplication extends WApplication{constructor(){super()}async main(i){super.main(i),this.isFirstWindow=!0,this._createWindow()}async _createWindow(){var i=new WindowParams;i.title="Trojan.JS.YouAreAnIdiot",i.initialWidth=this.isFirstWindow?640:213,i.initialHeight=this.isFirstWindow?500:178,i.controlBoxStyle="WS_CBX_CLOSE",i.resizable=!1;var t=this.createWindow(i,!1);t.registerWindow(),t.registerAppBar(),t.setHtml('<video style="height: 100%; width: 100%;" autoplay loop><source src="/system/apps/youare/vid.mp4" type="video/mp4"></video>');const e=t.wndObject.querySelector(".window-html-content");e.classList.add("gameing-app"),e.addEventListener("click",(()=>{alert("You are an idiot!"),this._createWindow()})),t.setWindowIcon(await Theme.getIconUrl("apps/youare","16x16")),t.onclose=i=>{i.canceled=!0,this._createWindow()};let n=2,o=2,a=~~(Math.random()*document.body.clientWidth),s=~~(Math.random()*document.body.clientHeight);requestAnimationFrame((function e(){a+=n,s+=o,t.setPosition(a,s),a>=document.body.clientWidth-i.initialWidth&&(n=-2),a<=0&&(n=2),s>=document.body.clientHeight-i.initialHeight&&(o=-2),s<=0&&(o=2),requestAnimationFrame(e)})),this.mainwnd=t,t.show(),this.isFirstWindow=!1}}

return await WApplication.execAsync(new YouAreApplication(), this.boxedEnv.args, this);